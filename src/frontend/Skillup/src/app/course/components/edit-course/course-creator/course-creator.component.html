<div class="prose mb-8">
  <h1>Edit your course content!</h1>
</div>
<p-accordion [value]="0">
  @for (section of sections(); track section.id) {
  <p-accordion-panel [value]="section.id">
    <p-accordion-header>{{ section.title }}</p-accordion-header>
    <p-accordion-content>
      @for (element of section.elements; track element.id) {
      <p-card>
        <div class="flex">
          <i [class]="definedIcon(element.type)" style="font-size: 2.5rem"></i>
          <p>{{ element.title }}</p>
        </div>
      </p-card>
      }

      <p-button label="New Element" (click)="addElement()" />
      <div [style.display]="addElementVisible ? 'block' : 'none'">
        <div class="flex justify-center gap-10">
          <p-card>
            <div class="flex flex-col justify-center items-center">
              <i class="pi pi-video" style="font-size: 2.5rem"></i>
              <p>Add Video</p>
            </div></p-card
          >
          <p-card>
            <div class="flex flex-col justify-center items-center">
              <i class="pi pi-book" style="font-size: 2.5rem"></i>
              <p>Add Article</p>
            </div></p-card
          >
          <p-card>
            <div class="flex flex-col justify-center items-center">
              <i class="pi pi-objects-column" style="font-size: 2.5rem"></i>
              <p>Add Exercise</p>
            </div></p-card
          >
        </div>
      </div>
    </p-accordion-content>
  </p-accordion-panel>
  }
</p-accordion>

<div class="mt-8">
  <p-button
    label="New Section"
    (click)="changeAddSectionVisibility()"
    [style.display]="addSectionVisible ? 'none' : 'block'"
  />

  <div
    [style.display]="addSectionVisible ? 'block' : 'none'"
    class="su-border p-8 mb-8"
  >
    <div class="prose">
      <h3 class="mb-1">Title</h3>
    </div>
    <input pInputText class="w-full" [(ngModel)]="newSectionTitle" />
    <div class="flex gap-8 my-4">
      <p-button
        label="Cancel"
        type="button"
        severity="secondary"
        (click)="changeAddSectionVisibility()"
      />
      <p-button label="Save" type="submit" (click)="submitSection()" />
    </div>
  </div>
</div>
