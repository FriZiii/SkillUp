<div class="prose mb-8">
  <h1>Edit your course content!</h1>
</div>
<p-accordion [value]="0" cdkDropList (cdkDropListDropped)="dropSection($event)">
  @for (section of sections(); track section) {
  <p-accordion-panel [value]="section.id">
    <p-accordion-header cdkDrag>{{ section.title }}</p-accordion-header>
    <p-accordion-content>
      <div
        cdkDropList
        [cdkDropListData]="section"
        (cdkDropListDropped)="dropElement($event)"
      >
        @for (element of section.elements; track element) {
        <app-element-item
          [element]="element"
          cdkDrag
          [cdkDragData]="element"
        ></app-element-item>
        }
      </div>
      <app-add-new-element></app-add-new-element>
    </p-accordion-content>
  </p-accordion-panel>
  }
</p-accordion>

<div class="my-4">
  <app-hidden-form-wrapper (submit)="submitSection()">
    <div class="prose">
      <h3 class="mb-1">Title</h3>
    </div>
    <input pInputText class="w-full" [(ngModel)]="newSectionTitle" />
  </app-hidden-form-wrapper>
</div>
