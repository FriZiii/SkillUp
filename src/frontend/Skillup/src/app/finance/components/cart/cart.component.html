@if(cart() === null){
<h1>Nothing in cart</h1>
}
<div class="grid grid-cols-3 gap-8">
  <div class="flex flex-col gap-4 col-start-1 col-span-2">
    @for(item of cartItems(); track item.id){
    <app-cart-item
      [cartItem]="item"
      (removeItem)="removeItem($event)"
      class="w-full"
    ></app-cart-item>
    }
  </div>
  <div class="flex flex-col gap-4 col-start-3 prose max-w-none !w-full">
    @if(cart()?.total === cart()?.totalBeforeDiscount){
    <div>
      <h1>{{ cart()?.total }}</h1>
    </div>
    } @else {
    <div class="flex flex-col">
      <h2 class="line-through">{{ cart()?.totalBeforeDiscount }}</h2>
      <h1>{{ cart()?.total }}</h1>
    </div>
    } @if(cart()?.discountCode){
    <p>Applied code {{ cart()?.discountCode?.code }}</p>
    }
    <input type="text" pInputText [(ngModel)]="discountCode" />
    <p-button label="Apply Code" (onClick)="applyCode()"></p-button>
    @if(invalidCode){
    <p>Invalid Code</p>
    }
  </div>
</div>
